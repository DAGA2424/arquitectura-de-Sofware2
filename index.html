<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Portafolio ‚Äî Inicio</title>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:#000; color:#f1f5f9; }
header { position: sticky; top: 0; background: linear-gradient(90deg, #0f172a, #1f2937); color: white; padding: 12px 18px; display: flex; align-items: center; justify-content: space-between; gap: 12px; z-index: 999; box-shadow: 0 2px 8px rgba(0,0,0,0.25); }
.brand { display:flex; gap:12px; align-items:center; }
.brand img { width:48px; height:48px; border-radius:50%; object-fit:cover; }
.brand .title { font-weight:700; font-size:18px; }
.brand .subtitle { font-size:13px; color:#cbd5e1; }
nav a { color:white; text-decoration:none; margin-left:15px; font-weight:500; }
nav a:hover { text-decoration:underline; }
.controls { display:flex; gap:12px; align-items:center; }
select { background:#111827; color:#fff; padding:6px 8px; border-radius:8px; border:1px solid rgba(255,255,255,0.2); }
button { background:#111827; color:#fff; padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); cursor:pointer; transition: all 0.2s ease; }
button:hover { opacity: 0.9; }
button.primary { background:#06b6d4; color:#042027; border:none; font-weight:600; }
.hidden { display:none !important; }
main { max-width:1100px; margin:22px auto; padding:0 16px; }
.presentacion { display: flex; align-items: center; gap: 24px; background:#1e293b; padding:20px; border-radius:12px; border:1px solid #334155; }
.presentacion img { width:180px; height:180px; border-radius:12px; object-fit:cover; border:3px solid #06b6d4; }
.presentacion .texto h2 { margin-bottom:10px; color:#38bdf8; }
.presentacion .texto p { line-height:1.5; color:#e2e8f0; }
.panel { margin-top: 24px; background:#1e293b; padding:16px; border-radius:12px; border:1px solid #334155; }
.flex-box { display:flex; gap:20px; }
.listado { flex:1; }
.vista { flex:2; background:#0f172a; border-radius:10px; padding:12px; min-height:250px; display:flex; align-items:center; justify-content:center; }
.tarea { cursor:pointer; padding:6px; border-bottom:1px solid #334155; }
.tarea:hover { background:#334155; }
h4 { margin:10px 0; color:#38bdf8; }
</style>
</head>
<body>
<header>
  <div class="brand">
    <img src="UPLA.jpg" alt="Logo">
    <div>
      <div class="title">DAGA</div>
      <div class="subtitle">Portafolio Cursos</div>
    </div>
  </div>
  <nav>
    <a href="index.html">Inicio</a>
    <a href="cursos.html">Cursos</a>
    <a href="contacto.html">Contacto</a>
    <a href="mensajes.html">Mensajes</a>
  </nav>
  <div class="controls">
    <select id="cursoSelectHeader">
      <option value="Ingl√©s IV">Ingl√©s IV</option>
      <option value="Gobierno de TI">Gobierno de TI</option>
      <option value="Machine Learning">Machine Learning</option>
      <option value="Arquitectura de Datos">Arquitectura de Datos</option>
    </select>
    <div id="userGreeting" class="small">Bienvenido, invitado</div>
    <button id="loginBtn">Login</button>
  </div>
</header>

<main>
<section class="presentacion">
  <img src="YO.jpg" alt="Foto de perfil">
  <div class="texto">
    <h2>Bienvenido a mi Portafolio</h2>
    <p>
      Este portafolio contiene la organizaci√≥n de mis cursos:
      <b>Ingl√©s IV, Gobierno de TI, Machine Learning y Arquitectura de Datos</b>.  
      En cada curso encontrar√°s los trabajos organizados por semanas (16 en total).  
      Esta p√°gina de inicio sirve como presentaci√≥n con una foto y un resumen de mi trayectoria acad√©mica.
    </p>
  </div>
</section>

<section class="panel">
  <h3>Explora tus Cursos</h3>
  <div class="flex-box">
    <div class="listado" id="semanas"></div>
    <div class="vista" id="vistaPreview">Selecciona una tarea para ver la vista previa</div>
  </div>
</section>
</main>

<div id="modal" style="display:none;position:fixed;inset:0;background:rgba(2,6,23,0.6);align-items:center;justify-content:center;z-index:1200;">
  <div style="background:rgb(255, 255, 255);padding:18px;border-radius:10px;width:320px;box-shadow:0 8px 30px rgba(2,6,23,0.4);">
    <h3>Iniciar sesi√≥n</h3>
    <input id="username" type="text" placeholder="Usuario" style="width:100%;margin-bottom:10px;padding:8px;border:1px solid #cbd5e1;border-radius:8px;" />
    <input id="password" type="password" placeholder="Contrase√±a" style="width:100%;margin-bottom:10px;padding:8px;border:1px solid #cbd5e1;border-radius:8px;" />
    <div style="display:flex;gap:8px;justify-content:flex-end;">
      <button id="closeModal">Cancelar</button>
      <button id="doLogin" class="primary">Entrar</button>
    </div>
  </div>
</div>

<script>
// Elementos
const loginBtn = document.getElementById("loginBtn");
const modal = document.getElementById("modal");
const closeModal = document.getElementById("closeModal");
const doLogin = document.getElementById("doLogin");
const userGreeting = document.getElementById("userGreeting");
const cursoSelectHeader = document.getElementById("cursoSelectHeader");
const semanasDiv = document.getElementById("semanas");
const vista = document.getElementById("vistaPreview");

const cursos = ["Ingl√©s IV","Gobierno de TI","Machine Learning","Arquitectura de Datos"];

// Inicializar storage si no existe
if(!localStorage.getItem("docs")){
  let initDocs = {};
  cursos.forEach(c => { 
    initDocs[c]={}; 
    for(let i=1;i<=16;i++){ initDocs[c]["Semana "+i]=[]; }
  });
  localStorage.setItem("docs", JSON.stringify(initDocs));
}

// Login
loginBtn.onclick = ()=> modal.style.display="flex";
closeModal.onclick = ()=> modal.style.display="none";
doLogin.onclick = ()=> {
  let user = document.getElementById("username").value.trim();
  let pass = document.getElementById("password").value.trim();
  if(user==="DAGA" && pass==="74128745"){
    modal.style.display="none";
    localStorage.setItem("logged","DAGA");
    userGreeting.textContent="Bienvenido, "+user;
    mostrarSemanas();
  } else { alert("Usuario o contrase√±a incorrectos"); }
};

// Mostrar semanas y tareas
function mostrarSemanas(){
  semanasDiv.innerHTML = "";
  const curso = cursoSelectHeader.value;
  const docs = JSON.parse(localStorage.getItem("docs")) || {};

  if(!docs[curso]) { semanasDiv.innerHTML="No hay tareas"; return; }

  Object.keys(docs[curso]).forEach(semana=>{
    let h4 = document.createElement("h4");
    h4.textContent = semana;
    semanasDiv.appendChild(h4);

    docs[curso][semana].forEach(tarea=>{
      let div = document.createElement("div");
      div.className = "tarea";
      div.textContent = tarea.name || tarea;
      div.onclick = ()=> mostrarVista(tarea);
      semanasDiv.appendChild(div);
    });
  });
}

// Mostrar archivo en vista
function mostrarVista(tarea){
  let file = tarea.data ? tarea : tarea.name ? tarea : tarea; 
  let name = tarea.name || tarea;
  let data = tarea.data || tarea;
  let ext=name.split(".").pop().toLowerCase();
  if(["png","jpg","jpeg","gif","webp"].includes(ext)){
    vista.innerHTML = `<img src="${data}" style="max-width:100%;max-height:100%;">`;
  } else if(ext==="pdf"){
    vista.innerHTML = `<iframe src="${data}" style="width:100%;height:100%;border:none;"></iframe>`;
  } else {
    vista.innerHTML = `<div>üìÑ ${name}</div>`;
  }
}

// Cargar estado inicial
window.onload = ()=>{
  const logged = localStorage.getItem("logged");
  if(logged==="DAGA") userGreeting.textContent="Bienvenido, DAGA";
  mostrarSemanas();
};

cursoSelectHeader.onchange = mostrarSemanas;
</script>
</body>
</html>
